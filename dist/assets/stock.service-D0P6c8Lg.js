import{r as m,j as t,g as d}from"./index-C-yn2kxu.js";import{S as x}from"./server-table-OrazAZj6.js";import{B as n,c as p}from"./index-Cj-kxx9Z.js";import{D as h,e as f,a as b,b as g,c as j,d as I,f as y}from"./dialog-o4W0LXdK.js";import{P as N}from"./product-image-870267Xw.js";import{P as S}from"./index-yjIxugBi.js";import{S as C}from"./search-8CyYJVSP.js";const T=({onSelect:o})=>{const[a,s]=m.useState(!1),[i,l]=m.useState(null),c=[{key:"photo",dataIndex:"id",title:"Produto",className:"!w-[80px]",cellClassName:"!w-[80px] flex items-center justify-center p-1",renderItem:e=>t.jsx("div",{className:"size-14",children:t.jsx(N,{productId:e.id,alt:"Foto do Produto",className:"size-14",onClick:u=>window.open(u,"_blank")})}),sortable:!0},{key:"id",dataIndex:"id",title:"Código",className:"w-[128px] border",renderItem:e=>t.jsx("span",{className:"font-semibold text-blue-600 ",children:e.id}),sortable:!0},{key:"referenceCode",dataIndex:"referenceCode",title:"Código Curto",className:"w-[128px] border",renderItem:e=>t.jsx("span",{className:"font-semibold text-blue-600 text-sm",children:e.referenceCode}),sortable:!0},{key:"description",dataIndex:"description",title:"Descrição",cellClassName:"border text-xs",renderItem:e=>t.jsx("span",{className:"text-sm",children:e.description}),sortable:!0},{key:"familyName",dataIndex:"family.name",title:"Família",className:"w-[128px] border",renderItem:e=>t.jsx("span",{className:"text-sm",children:e.familyId}),sortable:!0},{key:"isActive",dataIndex:"isActive",title:"Situação",className:"w-[170px] border",renderItem:e=>t.jsx("div",{className:"text-[10px]",children:e.isActive>1&&t.jsx("span",{className:p(e.isActive==2&&"bg-purple-300  p-1 rounded-md",e.isActive==3&&"bg-orange-300  p-1 rounded-md",e.isActive==4&&"bg-red-400 text-white p-1 rounded-md"),children:S[e.isActive]})}),sortable:!0}],r=e=>{if(e){o(e),s(!1);return}o(i),s(!1)};return t.jsxs(h,{open:a,onOpenChange:s,children:[t.jsx(f,{asChild:!0,children:t.jsx(n,{type:"button",onClick:()=>s(!0),children:t.jsx(C,{className:"size-4"})})}),t.jsxs(b,{className:"min-w-[90%]",onInteractOutside:e=>e.preventDefault(),children:[t.jsxs(g,{children:[t.jsx(j,{children:"Pesquisar Produtos"}),t.jsx(I,{})]}),t.jsx("div",{className:"flex flex-col w-full",children:t.jsx(x,{columns:c,searchAutoFocus:!0,showAddButton:!1,defaultPageSize:6,dataUrl:"/registrations/products/list-paged",searchFields:[],defaultSearchField:"all",onSelectRow:e=>{l(e),r(e)},onRowDblClick:e=>{l(e),r(e)}})}),t.jsxs(y,{children:[t.jsx(n,{disabled:!i,onClick:()=>r(null),children:"Selecionar"}),t.jsx(n,{variant:"secondary",onClick:()=>s(!1),children:"Fechar"})]})]})]})};class ${static basePath="stock";static async getStockByPriceAndEstimatedDate(a){const{data:s}=await d.get(`/${this.basePath}/product-price-estimated-date/${a}`);return s}static async getEsli011(a){const{data:s}=await d.get(`/${this.basePath}/esli011/${a}`);return s}static async getByProductId(a){const{data:s}=await d.get(`/${this.basePath}/product/${a}`);return s}static async getById({branchId:a,warehouseId:s,localizationId:i,productId:l,batchCode:c}){const{data:r}=await d.post(`/${this.basePath}`,{branchId:a,warehouseId:s,localizationId:i,productId:l,batchCode:c});return r}}export{T as S,$ as a};
