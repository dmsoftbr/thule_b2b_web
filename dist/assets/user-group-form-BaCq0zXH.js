import{o as h,a7 as m,s as u,r as d,j as s,g as p,t as c,h as j}from"./index-C-yn2kxu.js";import{B as f}from"./index-Cj-kxx9Z.js";import{u as y,F}from"./form-wZZtDwF0.js";import{a as v}from"./zod-CLHPmu1F.js";import{F as x}from"./form-input-BKjCpg4m.js";const E=h({id:m(u()),name:m(u())}),N=({initialData:r,mode:a,onClose:i})=>{const[l,t]=d.useState(!1),e=y({resolver:v(E),defaultValues:{id:"",name:""}}),b=async n=>{try{let o={...n};t(!0),a=="ADD"?(await p.post("/admin/user-groups",o),c.success("Grupo criado com sucesso!")):(await p.patch("/admin/user-groups",o),c.success("Grupo alterado com sucesso!")),i(!0),t(!1)}catch(o){console.log(o),c.error(j(o))}finally{t(!1)}};d.useEffect(()=>{r&&e.reset(r)},[r]);const g=a=="VIEW";return s.jsx(F,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(b,n=>console.log(n)),className:"space-y-4",children:[s.jsx(x,{readOnly:a!="ADD",control:e.control,name:"id",label:"CÃ³digo"}),s.jsx(x,{control:e.control,name:"name",label:"Nome"}),s.jsxs("div",{className:"flex items-end justify-end gap-x-2",children:[!g&&s.jsx(f,{disabled:l,type:"submit",variant:"green",children:"Gravar"}),s.jsx(f,{disabled:l,type:"button",variant:"secondary",onClick:()=>i(!1),children:"Voltar p/Lista"})]})]})})};export{N as U};
