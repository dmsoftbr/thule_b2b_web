import{o as y,s as m,r as d,j as s,g as u,t as i,h as b}from"./index-C-yn2kxu.js";import{B as p}from"./index-Cj-kxx9Z.js";import{u as h,F as j}from"./form-wZZtDwF0.js";import{a as I}from"./zod-CLHPmu1F.js";import{F as f}from"./form-input-BKjCpg4m.js";const F=y({id:m(),name:m()}),R=({initialData:o,mode:n,onClose:c})=>{const[l,r]=d.useState(!1),e=h({resolver:I(F),defaultValues:{id:"",name:""}}),g=async a=>{try{let t={...a};r(!0),n=="ADD"?(await u.post("/registrations/item-types",t),i.success("Registro criado com sucesso!")):(await u.patch("/registrations/item-types",t),i.success("Registro alterado com sucesso!")),c(!0),r(!1)}catch(t){console.log(t),i.error(b(t))}finally{r(!1)}};d.useEffect(()=>{o&&e.reset(o)},[o]);const x=n=="VIEW";return s.jsx(j,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(g,a=>console.log(a)),className:"space-y-4",children:[s.jsx(f,{control:e.control,name:"id",label:"CÃ³digo"}),s.jsx(f,{control:e.control,name:"name",label:"Nome"}),s.jsxs("div",{className:"flex items-end justify-end gap-x-2",children:[!x&&s.jsx(p,{disabled:l,type:"submit",variant:"green",children:"Gravar"}),s.jsx(p,{disabled:l,type:"button",variant:"secondary",onClick:()=>c(!1),children:"Voltar p/Lista"})]})]})})};export{R as I};
