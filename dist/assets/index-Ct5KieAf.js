import{j as t,r as f,l as x,e as v}from"./index-C-yn2kxu.js";import{A as b}from"./app-page-header-B97b6w1v.js";import{S as g}from"./server-table-OrazAZj6.js";import{B as n}from"./index-Cj-kxx9Z.js";import{S as h}from"./square-pen-C5Wms97H.js";import{T as y}from"./trash-DuwzUJ5T.js";import{S}from"./send-CWdkHzs0.js";import{f as j}from"./format-yjuT46Nz.js";import{M as l}from"./notifications.service-CbCLSCAr.js";import"./input-Dr2m_CVc.js";import"./app-tooltip-1VY1K540.js";import"./index-D5w6tM8m.js";import"./Combination-BJv6NSEb.js";import"./index-z0-V-lU6.js";import"./index-BoUYBFaC.js";import"./index-DRosYylb.js";import"./select-BqrgrOas.js";import"./index-Cap87g99.js";import"./chevron-down-lpqsW9lE.js";import"./index-Dtymrjkl.js";import"./search-8CyYJVSP.js";import"./funnel-CSCaqyL5.js";import"./loader-circle-BV1pYLGQ.js";import"./chevron-left-DklgzkMt.js";import"./chevron-right-CCWYEIpL.js";import"./en-US-BRsamj6P.js";const A=({fnEdit:s,fnDelete:o,fnSend:i})=>[{title:"Identificador",dataIndex:"id",key:"id",sortable:!0,renderItem:e=>t.jsx("span",{className:"text-blue-600 font-semibold",children:e.id})},{title:"Título",dataIndex:"title",key:"title",sortable:!0},{title:"Enviado em",dataIndex:"sentAt",key:"sentAt",sortable:!0,renderItem:e=>t.jsx("span",{children:e.sentAt?j(e.sentAt,"dd/MM/yyyy HH:mm:ss"):"Não Enviado"})},{title:"Mensagem",dataIndex:"message",key:"message",sortable:!1,renderItem:e=>t.jsx("span",{className:"text-xs",children:e.message})},{title:"Endereço de Imagem (URL)",dataIndex:"imageUrl",key:"imageUrl",sortable:!1,renderItem:e=>t.jsx("span",{className:"text-xs",children:e.imageUrl})},{title:"Ações",dataIndex:"id",key:"actions",renderItem:e=>e.statusId=="SENT"?"":t.jsxs("div",{className:"flex flex-wrap gap-x-1 items-center",children:[t.jsx(n,{size:"sm",type:"button",onClick:()=>{s(e)},children:t.jsx(h,{className:"size-4"})}),t.jsx(n,{size:"sm",variant:"destructive",type:"button",onClick:()=>{o(e)},children:t.jsx(y,{className:"size-4"})}),t.jsx(n,{size:"sm",variant:"green",type:"button",onClick:()=>{i(e)},children:t.jsx(S,{className:"size-4"})})]})}],I=[{id:"id",label:"Código"},{id:"title",label:"Títulos"}],Y=function(){const[o,i]=f.useState(new Date().valueOf()),{showAppDialog:e}=x(),r=v(),d=()=>{r({to:"/mobile/notifications/new-notification"})},m=a=>{r({to:`/mobile/notifications/${a.id}`})},c=async a=>{await e({type:"confirm",title:"Atenção",message:"Excluir esta Notificação?",buttons:[{text:"Excluir",variant:"danger",value:"ok",autoClose:!0},{text:"Cancelar",variant:"secondary",value:"",autoClose:!0}]})&&(await l.delete(a.id),i(new Date().valueOf()))},p=async a=>{await e({type:"confirm",title:"Atenção",message:"Confirma o Envio para todos os números de telefone vinculados?",buttons:[{text:"Enviar",variant:"danger",value:"ok",autoClose:!0},{text:"Cancelar",variant:"secondary",value:"",autoClose:!0}]})&&(await l.send(a.id),i(new Date().valueOf()))};return t.jsx(b,{titleSlot:"Manutenção de Notificações no App",children:t.jsx("div",{className:"p-2",children:t.jsx(g,{defaultSearchField:"id",defaultSortFieldDataIndex:"id",searchFields:I,columns:A({fnEdit:m,fnDelete:c,fnSend:p}),showAddButton:!0,onAdd:()=>d(),dataUrl:"/mobile/notifications/list-paged"},o)})})};export{Y as component};
