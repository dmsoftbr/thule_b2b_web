import{o as oe,a7 as ie,a6 as W,ad as z,s as N,j as i,r as E,g as M,t as $,h as ce,e as ue,ac as le}from"./index-C-yn2kxu.js";import{A as de}from"./app-page-header-B97b6w1v.js";import{a as pe,b as fe,c as we,d as he,e as me,u as be,F as xe}from"./form-wZZtDwF0.js";import{a as ye}from"./zod-CLHPmu1F.js";import{F as L}from"./form-input-BKjCpg4m.js";import{F as V}from"./form-checkbox-D26YLDfI.js";import{c as H,a as U,B as C}from"./index-Cj-kxx9Z.js";import{I as ge}from"./input-Dr2m_CVc.js";import{P as Te,a as ve,b as De}from"./popover-D4FvDG7G.js";import{b as J,C as ke}from"./calendar-D1sFkhYR.js";import{h as Pe,c as F,b as S,a as Me,g as Ie,l as X,j as _e,w as Z,k as Ee,m as Y,f as Ye}from"./format-yjuT46Nz.js";import{C as Oe}from"./calendar-ZEkurVXL.js";import{g as ee,t as I,c as D,o as He,m as je,p as qe,a as te,e as Ne}from"./en-US-BRsamj6P.js";import{u as Le}from"./useQuery-BEMaX6S8.js";import"./label-PvIEZhsH.js";import"./checkbox-BvWHDgRj.js";import"./index-D5w6tM8m.js";import"./index-Cap87g99.js";import"./index-BoUYBFaC.js";import"./index-DRosYylb.js";import"./minus-Cc6YOJ9G.js";import"./Combination-BJv6NSEb.js";import"./index-z0-V-lU6.js";import"./endOfMonth-6ZWhWynV.js";import"./chevron-left-DklgzkMt.js";import"./chevron-right-CCWYEIpL.js";import"./chevron-down-lpqsW9lE.js";function Ce(){return Object.assign({},ee())}function Fe(s,e){const r=I(s,e?.in).getDay();return r===0?7:r}function Qe(s,e){const r=Re(e)?new e(0):D(e,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function Re(s){return typeof s=="function"&&s.prototype?.constructor===s}const Ae=10;class re{subPriority=0;validate(e,r){return!0}}class Be extends re{constructor(e,r,t,n,a){super(),this.value=e,this.validateValue=r,this.setValue=t,this.priority=n,a&&(this.subPriority=a)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,t){return this.setValue(e,r,this.value,t)}}class Ge extends re{priority=Ae;subPriority=-1;constructor(e,r){super(),this.context=e||(t=>D(r,t))}set(e,r){return r.timestampIsSet?e:D(e,Qe(e,this.context))}}class c{run(e,r,t,n){const a=this.parse(e,r,t,n);return a?{setter:new Be(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,r,t){return!0}}class We extends c{priority=140;parse(e,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,r,t){return r.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const f={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},g={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function w(s,e){return s&&{value:e(s.value),rest:s.rest}}function d(s,e){const r=e.match(s);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function T(s,e){const r=e.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const t=r[1]==="+"?1:-1,n=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:t*(n*He+a*je+l*qe),rest:e.slice(r[0].length)}}function se(s){return d(f.anyDigitsSigned,s)}function p(s,e){switch(s){case 1:return d(f.singleDigit,e);case 2:return d(f.twoDigits,e);case 3:return d(f.threeDigits,e);case 4:return d(f.fourDigits,e);default:return d(new RegExp("^\\d{1,"+s+"}"),e)}}function O(s,e){switch(s){case 1:return d(f.singleDigitSigned,e);case 2:return d(f.twoDigitsSigned,e);case 3:return d(f.threeDigitsSigned,e);case 4:return d(f.fourDigitsSigned,e);default:return d(new RegExp("^-?\\d{1,"+s+"}"),e)}}function Q(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ne(s,e){const r=e>0,t=r?e:1-e;let n;if(t<=50)n=s||100;else{const a=t+50,l=Math.trunc(a/100)*100,h=s>=a%100;n=s+l-(h?100:0)}return r?n:1-n}function ae(s){return s%400===0||s%4===0&&s%100!==0}class ze extends c{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,r,t){const n=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return w(p(4,e),n);case"yo":return w(t.ordinalNumber(e,{unit:"year"}),n);default:return w(p(r.length,e),n)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t){const n=e.getFullYear();if(t.isTwoDigitYear){const l=ne(t.year,n);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const a=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class $e extends c{priority=130;parse(e,r,t){const n=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return w(p(4,e),n);case"Yo":return w(t.ordinalNumber(e,{unit:"year"}),n);default:return w(p(r.length,e),n)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t,n){const a=Pe(e,n);if(t.isTwoDigitYear){const h=ne(t.year,a);return e.setFullYear(h,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),F(e,n)}const l=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(l,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),F(e,n)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Ve extends c{priority=130;parse(e,r){return O(r==="R"?4:r.length,e)}set(e,r,t){const n=D(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),S(n)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Xe extends c{priority=130;parse(e,r){return O(r==="u"?4:r.length,e)}set(e,r,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Ze extends c{priority=120;parse(e,r,t){switch(r){case"Q":case"QQ":return p(r.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Ke extends c{priority=120;parse(e,r,t){switch(r){case"q":case"qq":return p(r.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Ue extends c{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,r,t){const n=a=>a-1;switch(r){case"M":return w(d(f.month,e),n);case"MM":return w(p(2,e),n);case"Mo":return w(t.ordinalNumber(e,{unit:"month"}),n);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}class Je extends c{priority=110;parse(e,r,t){const n=a=>a-1;switch(r){case"L":return w(d(f.month,e),n);case"LL":return w(p(2,e),n);case"Lo":return w(t.ordinalNumber(e,{unit:"month"}),n);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Se(s,e,r){const t=I(s,r?.in),n=Me(t,r)-e;return t.setDate(t.getDate()-n*7),I(t,r?.in)}class et extends c{priority=100;parse(e,r,t){switch(r){case"w":return d(f.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return p(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t,n){return F(Se(e,t,n),n)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function tt(s,e,r){const t=I(s,r?.in),n=Ie(t,r)-e;return t.setDate(t.getDate()-n*7),t}class rt extends c{priority=100;parse(e,r,t){switch(r){case"I":return d(f.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return p(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t){return S(tt(e,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const st=[31,28,31,30,31,30,31,31,30,31,30,31],nt=[31,29,31,30,31,30,31,31,30,31,30,31];class at extends c{priority=90;subPriority=1;parse(e,r,t){switch(r){case"d":return d(f.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return p(r.length,e)}}validate(e,r){const t=e.getFullYear(),n=ae(t),a=e.getMonth();return n?r>=1&&r<=nt[a]:r>=1&&r<=st[a]}set(e,r,t){return e.setDate(t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class ot extends c{priority=90;subpriority=1;parse(e,r,t){switch(r){case"D":case"DD":return d(f.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return p(r.length,e)}}validate(e,r){const t=e.getFullYear();return ae(t)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function R(s,e,r){const t=ee(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=I(s,r?.in),l=a.getDay(),x=(e%7+7)%7,m=7-n,y=e<0||e>6?e-(l+m)%7:(x+m)%7-(l+m)%7;return J(a,y,r)}class it extends c{priority=90;parse(e,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,n){return e=R(e,t,n),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class ct extends c{priority=90;parse(e,r,t,n){const a=l=>{const h=Math.floor((l-1)/7)*7;return(l+n.weekStartsOn+6)%7+h};switch(r){case"e":case"ee":return w(p(r.length,e),a);case"eo":return w(t.ordinalNumber(e,{unit:"day"}),a);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,n){return e=R(e,t,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class ut extends c{priority=90;parse(e,r,t,n){const a=l=>{const h=Math.floor((l-1)/7)*7;return(l+n.weekStartsOn+6)%7+h};switch(r){case"c":case"cc":return w(p(r.length,e),a);case"co":return w(t.ordinalNumber(e,{unit:"day"}),a);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,n){return e=R(e,t,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function lt(s,e,r){const t=I(s,r?.in),n=Fe(t,r),a=e-n;return J(t,a,r)}class dt extends c{priority=90;parse(e,r,t){const n=a=>a===0?7:a;switch(r){case"i":case"ii":return p(r.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return w(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return w(t.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return w(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),n);case"iiii":default:return w(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),n)}}validate(e,r){return r>=1&&r<=7}set(e,r,t){return e=lt(e,t),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class pt extends c{priority=80;parse(e,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(Q(t),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class ft extends c{priority=80;parse(e,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(Q(t),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class wt extends c{priority=80;parse(e,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(Q(t),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class ht extends c{priority=70;parse(e,r,t){switch(r){case"h":return d(f.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return p(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,t){const n=e.getHours()>=12;return n&&t<12?e.setHours(t+12,0,0,0):!n&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class mt extends c{priority=70;parse(e,r,t){switch(r){case"H":return d(f.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return p(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,t){return e.setHours(t,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class bt extends c{priority=70;parse(e,r,t){switch(r){case"K":return d(f.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return p(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class xt extends c{priority=70;parse(e,r,t){switch(r){case"k":return d(f.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return p(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,t){const n=t<=24?t%24:t;return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class yt extends c{priority=60;parse(e,r,t){switch(r){case"m":return d(f.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return p(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setMinutes(t,0,0),e}incompatibleTokens=["t","T"]}class gt extends c{priority=50;parse(e,r,t){switch(r){case"s":return d(f.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return p(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setSeconds(t,0),e}incompatibleTokens=["t","T"]}class Tt extends c{priority=30;parse(e,r){const t=n=>Math.trunc(n*Math.pow(10,-r.length+3));return w(p(r.length,e),t)}set(e,r,t){return e.setMilliseconds(t),e}incompatibleTokens=["t","T"]}class vt extends c{priority=10;parse(e,r){switch(r){case"X":return T(g.basicOptionalMinutes,e);case"XX":return T(g.basic,e);case"XXXX":return T(g.basicOptionalSeconds,e);case"XXXXX":return T(g.extendedOptionalSeconds,e);case"XXX":default:return T(g.extended,e)}}set(e,r,t){return r.timestampIsSet?e:D(e,e.getTime()-te(e)-t)}incompatibleTokens=["t","T","x"]}class Dt extends c{priority=10;parse(e,r){switch(r){case"x":return T(g.basicOptionalMinutes,e);case"xx":return T(g.basic,e);case"xxxx":return T(g.basicOptionalSeconds,e);case"xxxxx":return T(g.extendedOptionalSeconds,e);case"xxx":default:return T(g.extended,e)}}set(e,r,t){return r.timestampIsSet?e:D(e,e.getTime()-te(e)-t)}incompatibleTokens=["t","T","X"]}class kt extends c{priority=40;parse(e){return se(e)}set(e,r,t){return[D(e,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Pt extends c{priority=20;parse(e){return se(e)}set(e,r,t){return[D(e,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const Mt={G:new We,y:new ze,Y:new $e,R:new Ve,u:new Xe,Q:new Ze,q:new Ke,M:new Ue,L:new Je,w:new et,I:new rt,d:new at,D:new ot,E:new it,e:new ct,c:new ut,i:new dt,a:new pt,b:new ft,B:new wt,h:new ht,H:new mt,K:new bt,k:new xt,m:new yt,s:new gt,S:new Tt,X:new vt,x:new Dt,t:new kt,T:new Pt},It=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Et=/^'([^]*?)'?$/,Yt=/''/g,Ot=/\S/,Ht=/[a-zA-Z]/;function jt(s,e,r,t){const n=()=>D(r,NaN),a=Ce(),l=a.locale??Ne,h=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,x=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m={firstWeekContainsDate:h,weekStartsOn:x,locale:l},y=[new Ge(t?.in,r)],_=e.match(_t).map(o=>{const u=o[0];if(u in X){const b=X[u];return b(o,l.formatLong)}return o}).join("").match(It),k=[];for(let o of _){_e(o)&&Z(o,e,s),Ee(o)&&Z(o,e,s);const u=o[0],b=Mt[u];if(b){const{incompatibleTokens:A}=b;if(Array.isArray(A)){const B=k.find(G=>A.includes(G.token)||G.token===u);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${o}\` at the same time`)}else if(b.incompatibleTokens==="*"&&k.length>0)throw new RangeError(`The format string mustn't contain \`${o}\` and any other token at the same time`);k.push({token:u,fullToken:o});const q=b.run(s,o,l.match,m);if(!q)return n();y.push(q.setter),s=q.rest}else{if(u.match(Ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");if(o==="''"?o="'":u==="'"&&(o=qt(o)),s.indexOf(o)===0)s=s.slice(o.length);else return n()}}if(s.length>0&&Ot.test(s))return n();const j=y.map(o=>o.priority).sort((o,u)=>u-o).filter((o,u,b)=>b.indexOf(o)===u).map(o=>y.filter(u=>u.priority===o).sort((u,b)=>b.subPriority-u.subPriority)).map(o=>o[0]);let P=I(r,t?.in);if(isNaN(+P))return n();const v={};for(const o of j){if(!o.validate(P,m))return n();const u=o.set(P,v,m);Array.isArray(u)?(P=u[0],Object.assign(v,u[1])):P=u}return P}function qt(s){return s.match(Et)[1].replace(Yt,"'")}const Nt=oe({id:N(),name:N(),validFrom:z(),validTo:z(),zeroDiscount:W(),isActive:W(),portalName:ie(N())});function Lt({className:s,...e}){return i.jsx("div",{"data-slot":"input-group",role:"group",className:H("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40",s),...e})}const Ct=U("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5","block-end":"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5"}},defaultVariants:{align:"inline-start"}});function Ft({className:s,align:e="inline-start",...r}){return i.jsx("div",{role:"group","data-slot":"input-group-addon","data-align":e,className:H(Ct({align:e}),s),onClick:t=>{t.target.closest("button")||t.currentTarget.parentElement?.querySelector("input")?.focus()},...r})}const Qt=U("text-sm shadow-none flex gap-2 items-center",{variants:{size:{xs:"h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2",sm:"h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5","icon-xs":"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0","icon-sm":"size-8 p-0 has-[>svg]:p-0"}},defaultVariants:{size:"xs"}});function Rt({className:s,type:e="button",variant:r="ghost",size:t="xs",...n}){return i.jsx(C,{type:e,"data-size":t,variant:r,className:H(Qt({size:t}),s),...n})}function At({className:s,...e}){return i.jsx(ge,{"data-slot":"input-group-control",className:H("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",s),...e})}function K({control:s,name:e,label:r,placeholder:t="dd/mm/aaaa",disabled:n=!1,readOnly:a=!1,required:l=!1,className:h="space-y-0",autoFocus:x}){const[m,y]=E.useState(!1);return i.jsx(pe,{control:s,name:e,render:({field:_})=>i.jsx(Bt,{field:_,label:r,placeholder:t,disabled:n,readOnly:a,required:l,className:h,autoFocus:x,open:m,setOpen:y,name:e})})}function Bt({field:s,label:e,placeholder:r,disabled:t,readOnly:n,required:a,className:l,autoFocus:h,open:x,setOpen:m,name:y}){const[_,k]=E.useState("");E.useEffect(()=>{if(s.value){const o=s.value instanceof Date?s.value:new Date(s.value);Y(o)?k(Ye(o,"dd/MM/yyyy")):k("")}else k("")},[s.value]);const j=o=>{const u=o.target.value;if(k(u),u.length===10){const b=jt(u,"dd/MM/yyyy",new Date);Y(b)&&s.onChange(b)}else u===""&&s.onChange(null)},P=o=>{s.onChange(o),m(!1)},v=s.value instanceof Date?s.value:s.value&&typeof s.value=="string"?new Date(s.value):void 0;return i.jsxs(fe,{className:l,children:[i.jsx(we,{required:a,children:e}),i.jsx(he,{children:i.jsxs(Lt,{children:[i.jsx(At,{id:y,ref:s.ref,onBlur:s.onBlur,value:_,disabled:t,readOnly:n,autoFocus:h,placeholder:r,onChange:j,onKeyDown:o=>{o.key==="ArrowDown"&&(o.preventDefault(),m(!0))}}),i.jsx(Ft,{align:"inline-end",children:i.jsxs(Te,{open:x,onOpenChange:m,children:[i.jsx(ve,{asChild:!0,children:i.jsxs(Rt,{id:`${y}-picker-btn`,variant:"ghost",size:"icon-xs","aria-label":"Select date",disabled:t||n,children:[i.jsx(Oe,{}),i.jsx("span",{className:"sr-only",children:"Select date"})]})}),i.jsx(De,{className:"w-auto overflow-hidden p-0",align:"end",alignOffset:-8,sideOffset:10,children:i.jsx(ke,{mode:"single",selected:v&&Y(v)?v:void 0,onSelect:P,initialFocus:!0,defaultMonth:v&&Y(v)?v:new Date})})]})})]})}),i.jsx(me,{})]})}const Gt=({initialData:s,mode:e,onClose:r})=>{const[t,n]=E.useState(!1),a=be({resolver:ye(Nt),defaultValues:{id:"",name:"",validFrom:new Date,validTo:new Date,zeroDiscount:!1,isActive:!0,portalName:""}}),l=async x=>{try{n(!0),await M.patch("/registrations/price-tables",x),$.success("Tabela de Preço alterada com sucesso!"),r(!0),n(!1)}catch(m){console.log(m),$.error(ce(m))}finally{n(!1)}};E.useEffect(()=>{s&&a.reset({...s,validFrom:s.validFrom?new Date(s.validFrom):new Date,validTo:s.validTo?new Date(s.validTo):new Date})},[s]);const h=e=="VIEW";return i.jsx(xe,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(l,x=>console.log(x)),className:"space-y-4",children:[i.jsx(L,{readOnly:!0,control:a.control,name:"id",label:"Código"}),i.jsx(L,{control:a.control,name:"name",label:"Descrição"}),i.jsx(L,{control:a.control,name:"portalName",label:"Nome no Portal"}),i.jsx(K,{control:a.control,label:"Válido de",name:"validFrom"}),i.jsx(K,{control:a.control,label:"Válido Ate",name:"validTo"}),i.jsxs("div",{className:"flex items-center justify-between gap-x-4",children:[i.jsx(V,{control:a.control,name:"isActive",label:"Ativa?"}),i.jsx(V,{control:a.control,name:"zeroDiscount",label:"Zera Desconto?"})]}),i.jsxs("div",{className:"flex items-end justify-end gap-x-2",children:[!h&&i.jsx(C,{disabled:t,type:"submit",variant:"green",children:"Gravar"}),i.jsx(C,{disabled:t,type:"button",variant:"secondary",onClick:()=>r(!1),children:"Voltar p/Lista"})]})]})})};class Wt{static basePath="registrations/price-tables";static async getAll(){return(await M.get(`/${this.basePath}/all`)).data}static async getById(e){return(await M.get(`/${this.basePath}/id/${e}`)).data}static async listPaged(e){return(await M.post(`/${this.basePath}/list-paged`,e)).data}static async create(e){return(await M.post(`/${this.basePath}`,e)).data}static async update(e,r){return(await M.patch(`/${this.basePath}/${e}`,r)).data}static async delete(e){await M.delete(`/${this.basePath}/${e}`)}}const xr=function(){const e=ue(),{priceTableId:r}=le({from:"/_app/registrations/price-tables/$priceTableId/"}),{data:t}=Le({queryKey:["price-table-id",r],queryFn:async()=>await Wt.getById(r),enabled:!!r});if(t)return i.jsx(de,{titleSlot:`Alterar Tabela de Preço: ${r}`,children:i.jsx("div",{className:"p-2 max-w-lg ml-auto mr-auto",children:i.jsx(Gt,{initialData:t,isOpen:!0,mode:"EDIT",onClose:()=>e({to:"/registrations/price-tables"})})})})};export{xr as component};
