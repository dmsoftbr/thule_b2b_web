import{j as e,o as b,s as d,e as T,r as c,g as I,h as R}from"./index-C-yn2kxu.js";import{c as _,B as N}from"./index-Cj-kxx9Z.js";import{C as v,a as y,b as w,c as F,d as S,e as k}from"./card-oCMkmh1O.js";import{I as u}from"./input-Dr2m_CVc.js";import{L as C}from"./logo-KxsngFaw.js";import{u as E,F as D,a as x,b as h,c as p,d as g,e as j}from"./form-wZZtDwF0.js";import{a as L}from"./zod-CLHPmu1F.js";import{u as M}from"./use-auth-BWk16BUZ.js";import{F as A}from"./form-input-BKjCpg4m.js";import"./label-PvIEZhsH.js";const f=["assets/images/login_bg1.jpg","assets/images/login_bg2.jpg","assets/images/login_bg3.jpg"],B=({children:r})=>{const s=()=>f[Math.floor(Math.random()*f.length)];return typeof window>"u"?null:e.jsx("div",{className:_("min-h-screen min-w-screen bg-gradient-to-br from-thule-mid-blue-200 to-neutral-100 flex items-center justify-center p-4","bg-cover bg-center"),style:{backgroundImage:`url(${s()})`},children:r})},G=b({userName:d().min(2,"Digite seu Usuário ou E-mail"),password:d().min(1,{message:"Digite sua Senha"})}),U=b({email:d().min(2,"Digite seu E-mail")}),H=({onGotoForgotPassword:r})=>{const s=T(),[a,t]=c.useState(""),[n]=c.useTransition(),{login:m}=M(),i=E({resolver:L(G),defaultValues:{userName:"",password:""}}),P=async o=>{try{t("");const{data:l}=await I.post("/auth/login",{...o,clientType:"web"});m(l),s({to:"/dashboard",replace:!0})}catch(l){console.log(l),t(R(l))}};return e.jsxs(v,{children:[e.jsxs(y,{children:[e.jsxs(w,{className:"flex items-center justify-between",children:[e.jsx(C,{inverse:!1}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:"assets/images/thule_group.png",width:200,height:200,alt:"THULE"})})]}),e.jsx(F,{className:"mt-2 text-center",children:"Digite seus dados para acessar o sistema"})]}),e.jsx(S,{children:e.jsx(D,{...i,children:e.jsxs("form",{className:"flex flex-col space-y-4",onSubmit:i.handleSubmit(P),children:[e.jsx("div",{className:"space-y-2",children:e.jsx(x,{control:i.control,name:"userName",render:({field:o})=>e.jsxs(h,{children:[e.jsx(p,{children:"E-mail / Usuário"}),e.jsx(g,{children:e.jsx(u,{autoComplete:"current-password",...o,disabled:n,placeholder:"Digite seu e-mail",type:"text"})}),e.jsx(j,{})]})})}),e.jsx("div",{className:"space-y-2",children:e.jsx(x,{control:i.control,name:"password",render:({field:o})=>e.jsxs(h,{children:[e.jsx(p,{children:"Senha"}),e.jsx(g,{children:e.jsx(u,{autoComplete:"current-password",...o,disabled:n,placeholder:"Digite sua Senha",type:"password"})}),e.jsx(j,{})]})})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",className:"text-blue-600",onClick:()=>r(),children:"Esqueci minha senha"})}),e.jsx(N,{type:"submit",className:"text-sm font-normal uppercase",children:"Acessar"}),a&&e.jsx("div",{className:"text-center text-sm text-red-800 bg-red-300 p-2 rounded-md",children:a})]})})}),e.jsx(k,{children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Ao fazer login, você concorda com nossos"," ",e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Termos de Serviço"})," ","e"," ",e.jsx("a",{href:"https://www.thule.com/pt-br/legal-and-privacy-policy",className:"font-medium text-blue-600 hover:text-blue-500",target:"_blank",children:"Política de Privacidade"})]})})]})},V=({onGotoBackToLogin:r})=>{const[s,a]=c.useState(""),t=E({resolver:L(U),defaultValues:{email:""}}),n=async m=>{a(""),console.log(m)};return e.jsxs(v,{children:[e.jsxs(y,{children:[e.jsxs(w,{className:"flex items-center justify-between",children:[e.jsx(C,{inverse:!1}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:"assets/images/thule_group.png",width:200,height:200,alt:"Thule Group"})})]}),e.jsx(F,{className:"mt-2 text-center",children:"Digite seu e-mail para recuperar sua senha"})]}),e.jsx(S,{className:"min-w-[500px]",children:e.jsx(D,{...t,children:e.jsxs("form",{className:"flex flex-col space-y-4",onSubmit:t.handleSubmit(n),children:[e.jsx("div",{className:"space-y-2",children:e.jsx(A,{control:t.control,label:"E-mail",name:"email",placeholder:"Digite seu e-mail",type:"email"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{type:"submit",className:"text-sm font-normal uppercase",children:"Recuperar minha senha"}),e.jsx("div",{className:"flex justify-end",children:e.jsx("a",{href:"#",className:"text-blue-600",onClick:()=>r(),children:"Tenho uma senha"})})]}),s&&e.jsx("div",{className:"text-center text-sm text-red-800 bg-red-300 p-2 rounded-md",children:s})]})})})]})},Z=function(){const[s,a]=c.useState(!1);return e.jsxs(B,{children:[!s&&e.jsx(H,{onGotoForgotPassword:()=>a(!0)}),s&&e.jsx(V,{onGotoBackToLogin:()=>a(!1)})]})};export{Z as component};
