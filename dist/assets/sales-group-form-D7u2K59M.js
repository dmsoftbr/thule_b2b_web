import{g as e,e as u,r as m,j as t,t as i}from"./index-C-yn2kxu.js";import{u as d,F as h}from"./form-wZZtDwF0.js";import{F as g}from"./form-input-BKjCpg4m.js";import{F as x}from"./form-textarea-Clc_Qz6G.js";import{B as c}from"./index-Cj-kxx9Z.js";class l{static basePath="registrations/sales-groups";static async getAll(){return(await e.get(`/${this.basePath}/all`)).data}static async getById(s){return(await e.get(`/${this.basePath}/id/${s}`)).data}static async listPaged(s){return(await e.post(`/${this.basePath}/list-paged`,s)).data}static async create(s){return(await e.post(`/${this.basePath}`,s)).data}static async update(s){return(await e.patch(`/${this.basePath}`,s)).data}static async delete(s){await e.delete(`/${this.basePath}/${s}`)}}const F=({initialData:o,formAction:s})=>{const a=u(),r=d({defaultValues:{id:"",name:""}}),p=async n=>{s=="ADD"?(await l.create(n),i.success("Grupo criado com sucesso"),a({to:"/registrations/sales-group"})):s=="EDIT"&&(await l.update(n),i.success("Grupo atualizado com sucesso"),a({to:"/registrations/sales-group"}))};return m.useEffect(()=>{s!="ADD"&&o&&r.reset(o)},[]),t.jsx(h,{...r,children:t.jsxs("form",{onSubmit:r.handleSubmit(p),className:"space-y-4",children:[t.jsx(g,{control:r.control,name:"id",label:"CÃ³digo",maxLength:50,readOnly:s!="ADD"}),t.jsx(x,{control:r.control,name:"name",label:"Nome",inputClassName:"resize-none",maxLength:100,rows:2}),t.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[t.jsx(c,{variant:"default",children:"Gravar"}),t.jsx(c,{variant:"secondary",onClick:()=>a({to:"/registrations/sales-group"}),children:"Voltar p/Lista"})]})]})})};export{F as S,l as a};
