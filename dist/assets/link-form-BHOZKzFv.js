import{o as h,a6 as j,s as l,r as d,j as s,g as u,t as n,h as k}from"./index-C-yn2kxu.js";import{B as f}from"./index-Cj-kxx9Z.js";import{u as v,F}from"./form-wZZtDwF0.js";import{a as g}from"./zod-CLHPmu1F.js";import{F as p}from"./form-input-BKjCpg4m.js";import{F as y}from"./form-textarea-Clc_Qz6G.js";import{F as L}from"./form-checkbox-D26YLDfI.js";import{v as A}from"./v4-BKrj-4V8.js";const E=h({id:l(),title:l(),linkUrl:l(),isActive:j()}),N=({initialData:t,mode:r,onClose:c})=>{const[m,a]=d.useState(!1),o=v({resolver:g(E),defaultValues:{id:r=="ADD"?A():"",title:"",linkUrl:"",isActive:!0}}),b=async i=>{try{let e={...i};a(!0),r=="ADD"?(await u.post("/mobile/links",e),n.success("Link criado com sucesso!")):(await u.patch("/mobile/links",e),n.success("Link alterado com sucesso!")),c(!0),a(!1)}catch(e){console.log(e),n.error(k(e))}finally{a(!1)}};d.useEffect(()=>{t&&o.reset(t)},[t]);const x=r=="VIEW";return s.jsx(F,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(b,i=>console.log(i)),className:"space-y-4",children:[s.jsx(p,{readOnly:!0,control:o.control,name:"id",label:"Identificador"}),s.jsx(p,{control:o.control,name:"title",label:"Título"}),s.jsx(y,{control:o.control,name:"linkUrl",label:"Endereço (URL)",maxLength:5e3,rows:4}),s.jsx(L,{control:o.control,label:"Ativo",name:"isActive"}),s.jsxs("div",{className:"flex items-end justify-end gap-x-2",children:[!x&&s.jsx(f,{disabled:m,type:"submit",variant:"green",children:"Gravar"}),s.jsx(f,{disabled:m,type:"button",variant:"secondary",onClick:()=>c(!1),children:"Voltar p/Lista"})]})]})})};export{N as M};
