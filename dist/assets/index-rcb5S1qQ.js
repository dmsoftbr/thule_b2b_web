import{e as F,l as y,r as a,j as e,g as l}from"./index-C-yn2kxu.js";import{S as I}from"./server-table-OrazAZj6.js";import{u as N}from"./useQuery-BEMaX6S8.js";import{D as d}from"./date-picker-BTPigZqt.js";import{S as R,c as T}from"./search-combo-DoY-PKU3.js";import{B as m}from"./index-Cj-kxx9Z.js";import{A as P}from"./app-page-header-B97b6w1v.js";import{a as p,c as B}from"./columns-D4mfFbWR.js";import{m as c}from"./Label-IIo9Ww1Y.js";import"./input-Dr2m_CVc.js";import"./app-tooltip-1VY1K540.js";import"./index-D5w6tM8m.js";import"./Combination-BJv6NSEb.js";import"./index-z0-V-lU6.js";import"./index-BoUYBFaC.js";import"./index-DRosYylb.js";import"./select-BqrgrOas.js";import"./index-Cap87g99.js";import"./chevron-down-lpqsW9lE.js";import"./index-Dtymrjkl.js";import"./search-8CyYJVSP.js";import"./funnel-CSCaqyL5.js";import"./loader-circle-BV1pYLGQ.js";import"./chevron-left-DklgzkMt.js";import"./chevron-right-CCWYEIpL.js";import"./calendar-D1sFkhYR.js";import"./en-US-BRsamj6P.js";import"./format-yjuT46Nz.js";import"./endOfMonth-6ZWhWynV.js";import"./popover-D4FvDG7G.js";import"./calendar-1-D0a8d8XV.js";import"./command-DF-KUbv3.js";import"./index-C8Qjzrxd.js";import"./chevrons-up-down-DXmsIWP1.js";import"./dropdown-menu-3YsRMfS2.js";import"./datetime-utils-C1Y3PBw1.js";import"./pt-BR-ruWP6cy_.js";import"./number-utils-BjpbXa09.js";import"./order-status-utils-2CmP70Fi.js";import"./square-pen-C5Wms97H.js";import"./menu-DLE56LUh.js";import"./square-x-CeG2MJkX.js";import"./dollar-sign-B45EOowh.js";const V=[{id:"orderId",label:"Pedido"},{id:"customerAbbreviation",label:"Abrev. Cliente"},{id:"customerId",label:"Cód. Cliente"},{id:"representativeId",label:"Cód. Representante"},{id:"RepresentativeAbbreviation",label:"Abrev. Representante"},{id:"CustomerDocumentNumber",label:"CPF/CNPJ Cliente"},{id:"CustomerName",label:"Razão Social Cliente"}],je=function(){const r=F(),{showAppDialog:u}=y(),[v,o]=a.useState(new Date().valueOf()),[i,f]=a.useState(new Date(p(new Date,{days:-30}))),[s,x]=a.useState(new Date),[b,h]=a.useState([]),g=()=>{r({to:"/budgets/new-budget"})},C=t=>{r({to:`/budgets/edit/${t.id}`})},A=t=>{r({to:`/budgets/view/${t.id}`})},w=async t=>{await u({message:"Cancelar esta Simulação?",title:"Atenção",type:"question",buttons:[{text:"Continuar",variant:"danger",autoClose:!0,value:!0},{text:"Fechar",variant:"secondary",autoClose:!0,value:!1}]})&&(await l.delete(`/orders/${t.id}`),o(new Date().valueOf()))},{data:S}=N({queryKey:["representatives"],queryFn:async()=>{const{data:t}=await l.get("/registrations/representatives/all");return t}}),D=()=>{o(new Date().valueOf())},j=()=>e.jsxs("div",{className:"mt-2 flex gap-x-2 flex-wrap bg-blue-100 p-2 rounded-md",children:[e.jsx("div",{children:e.jsxs("div",{className:"form-group",children:[e.jsx(c,{children:"Período de Inclusão"}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(d,{defaultValue:i,onValueChange:t=>f(t)})," ","a"," ",e.jsx(d,{defaultValue:s,onValueChange:t=>x(t)})]})]})}),e.jsxs("div",{className:"form-group flex-1",children:[e.jsx(c,{children:"Representante"}),e.jsx(R,{multipleSelect:!0,onChange:()=>{},onSelectOption:t=>h(t.map(n=>Number(n.value))),staticItems:T(S??[],"id","abbreviation"),showSelectButtons:!0})]}),e.jsxs("div",{className:"flex gap-x-2 mt-5",children:[e.jsx(m,{onClick:()=>{D()},children:"Aplicar Filtro"}),e.jsx(m,{onClick:()=>{o(new Date().valueOf())},children:"Limpar Filtro"})]})]});return e.jsx(P,{titleSlot:"Simulações",children:e.jsx("div",{className:"p-2",children:e.jsx(I,{defaultSearchField:"orderId",defaultSortFieldDataIndex:"createdAt",defaultSortDesc:!0,searchFields:V,columns:B({fnEdit:C,fnCancel:w,fnView:A}),showAddButton:!0,onAdd:()=>g(),dataUrl:"/orders/list-paged",advancedFilterSlot:j(),showAdvancedFilter:!0,additionalInfo:{statusIds:[],representativeIds:b,createdAtFrom:i??new Date(p(new Date,{days:-30})),createdAtTo:s??new Date,isBudget:!0}},v)})})};export{je as component};
