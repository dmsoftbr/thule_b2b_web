import{r as i,j as e,t as u,h as f}from"./index-C-yn2kxu.js";import{S as p,a as j}from"./stock.service-D0P6c8Lg.js";import{B as h}from"./index-Cj-kxx9Z.js";import{I as r}from"./input-Dr2m_CVc.js";import{L as t}from"./label-PvIEZhsH.js";import{P as v}from"./index-yjIxugBi.js";import{f as y}from"./datetime-utils-C1Y3PBw1.js";import{f as g}from"./number-utils-BjpbXa09.js";import{L as S}from"./loader-circle-BV1pYLGQ.js";import{C as N}from"./index-Cap87g99.js";const T=()=>{const[l,n]=i.useState(""),[c,x]=i.useState(!1),[a,m]=i.useState(null);async function o(s=""){if(!(!l&&!s)){x(!0);try{const d=await j.getStockByPriceAndEstimatedDate(s||l);m(d)}catch(d){u.error(f(d))}finally{x(!1)}}}return i.useEffect(()=>{m(null)},[l]),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(t,{children:"Produto"}),e.jsxs("div",{className:"flex gap-x-1",children:[e.jsx(r,{value:l,onChange:s=>n(s.target.value),readOnly:c,onKeyDown:s=>{s.key=="Enter"&&(s.preventDefault(),o())}}),e.jsx(p,{onSelect:s=>{s&&(n(s.id),o(s.id))}}),e.jsxs(h,{disabled:c,onClick:()=>o(),variant:"secondary",children:[c&&e.jsx(S,{className:"size-4 animate-spin"}),!c&&e.jsx(N,{})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(t,{children:"Descrição"}),e.jsx(r,{readOnly:!0,value:a?a.product.description:""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(t,{children:"Quantidade em Estoque"}),e.jsx(r,{readOnly:!0,value:a?a.stockAvailable:""})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(t,{children:"Preço Unitário Sugerido"}),e.jsx(r,{readOnly:!0,value:g(a?.suggestUnitPrice,2)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(t,{children:"Situação"}),e.jsx(r,{readOnly:!0,value:v[a?.product.isActive?a?.product.isActive:0]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(t,{children:"Previsão de Chegada"}),e.jsx(r,{readOnly:!0,value:y(a?.estimatedDate)})]})]})]})};export{T as P};
