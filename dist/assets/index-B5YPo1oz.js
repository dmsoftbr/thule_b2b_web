import{r as n,j as e,t as S,h as q}from"./index-C-yn2kxu.js";import{B as E,c as v}from"./index-Cj-kxx9Z.js";import{I as u}from"./input-Dr2m_CVc.js";import{L as j}from"./label-PvIEZhsH.js";import{T as N,a as p,b as c,c as s,d as f,e as a,f as g}from"./table-D5BP3akl.js";import{f as i}from"./datetime-utils-C1Y3PBw1.js";import{f as o}from"./number-utils-BjpbXa09.js";import{S as P,a as w}from"./stock.service-D0P6c8Lg.js";import{L as D}from"./loader-circle-BV1pYLGQ.js";import{C as y}from"./index-Cap87g99.js";import"./en-US-BRsamj6P.js";import"./endOfMonth-6ZWhWynV.js";import"./pt-BR-ruWP6cy_.js";import"./server-table-OrazAZj6.js";import"./app-tooltip-1VY1K540.js";import"./index-D5w6tM8m.js";import"./Combination-BJv6NSEb.js";import"./index-z0-V-lU6.js";import"./index-BoUYBFaC.js";import"./index-DRosYylb.js";import"./select-BqrgrOas.js";import"./chevron-down-lpqsW9lE.js";import"./index-Dtymrjkl.js";import"./search-8CyYJVSP.js";import"./funnel-CSCaqyL5.js";import"./chevron-left-DklgzkMt.js";import"./chevron-right-CCWYEIpL.js";import"./dialog-o4W0LXdK.js";import"./index-C8Qjzrxd.js";import"./product-image-870267Xw.js";import"./index-yjIxugBi.js";const T=()=>{const[d,b]=n.useState(),[x,m]=n.useState(!1),[t,A]=n.useState("");async function h(r=""){if(!(!t&&!r)){m(!0),b(void 0);try{const l=await w.getEsli011(r||t);b(l)}catch(l){S.error(q(l)),m(!1)}finally{m(!1)}}}return n.useEffect(()=>{b(void 0)},[t]),e.jsxs("div",{className:"space-y-4 px-2",children:[e.jsxs("div",{className:"flex gap-x-2",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(j,{children:"Produto"}),e.jsxs("div",{className:"flex gap-x-1",children:[e.jsx(u,{value:t,onChange:r=>A(r.target.value),onKeyDown:r=>{r.key=="Enter"&&(r.preventDefault(),h())}}),e.jsx(P,{onSelect:r=>{A(r?.id??""),r&&h(r.id)}}),e.jsxs(E,{disabled:x,onClick:()=>h(),variant:"secondary",children:[x&&e.jsx(D,{className:"size-4 animate-spin"}),!x&&e.jsx(y,{})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 flex-1",children:[e.jsx(j,{children:"Descrição"}),e.jsx(u,{readOnly:!0,value:d?.description??""})]}),e.jsxs("div",{className:"flex flex-col space-y-2 min-w-[300px]",children:[e.jsx(j,{children:"Situação"}),e.jsx(u,{readOnly:!0,value:d?.productStatus??"",className:v(d?d.productStatus=="Totalmente Obsoleto"&&"bg-red-300":"")})]})]}),e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"bg-blue-400 text-white px-2 rounded-tl-md py-1 rounded-tr-md",children:"CARTEIRA DE PEDIDOS"}),e.jsxs(N,{className:"border",children:[e.jsx(p,{children:e.jsxs(c,{className:"bg-neutral-200",children:[e.jsx(s,{className:"border border-neutral-300",children:"Pedido"}),e.jsx(s,{className:"border border-neutral-300",children:"Est"}),e.jsx(s,{className:"border border-neutral-300",children:"Ped Cli"}),e.jsx(s,{className:"border border-neutral-300",children:"Cliente"}),e.jsx(s,{className:"border border-neutral-300",children:"Entrega"}),e.jsx(s,{className:"border border-neutral-300",children:"Dt Min Fat"}),e.jsx(s,{className:"border border-neutral-300",children:"Dt Max Fat"}),e.jsx(s,{className:"border border-neutral-300",children:"Qt Pedida"}),e.jsx(s,{className:"border border-neutral-300",children:"Qt Atende"}),e.jsx(s,{className:"border border-neutral-300",children:"Qt Aloca Ped"}),e.jsx(s,{className:"border border-neutral-300",children:"Qt Aloca Prod"})]})}),e.jsxs(f,{children:[d?.orders?.length==0&&e.jsx(c,{children:e.jsx(a,{colSpan:11,className:"text-center",children:"Sem pedidos com saldo com este produto em aberto"})}),d?.orders?.map((r,l)=>e.jsxs(c,{className:"even:bg-neutral-100 hover:bg-neutral-300",children:[e.jsx(a,{className:"border",children:r.nrPedido}),e.jsx(a,{className:"border",children:r.codEstabel}),e.jsx(a,{className:"border",children:r.nrPedcli}),e.jsx(a,{className:"border",children:r.nomeAbrev}),e.jsx(a,{className:"border",children:i(r.dtEntrega)}),e.jsx(a,{className:"border",children:i(r.dtMinFat)}),e.jsx(a,{className:"border",children:i(r.dtMaxFat)}),e.jsx(a,{className:"border",children:o(r.qtPedida,0)}),e.jsx(a,{className:"border",children:o(r.qtAtendida,0)}),e.jsx(a,{className:"border",children:o(r.qtAlocada,0)}),e.jsx(a,{className:"border",children:o(r.qtLogAloc,0)})]},l))]}),e.jsx(g,{children:e.jsxs(c,{className:"bg-neutral-500 ",children:[e.jsx(s,{className:"text-white border border-neutral-200",colSpan:7,children:"Total"}),e.jsx(s,{className:"text-white border border-neutral-200",children:d?.orders.reduce((r,l)=>r+=l.qtPedida,0)}),e.jsx(s,{className:"text-white border border-neutral-200",children:d?.orders.reduce((r,l)=>r+=l.qtAtendida,0)}),e.jsx(s,{className:"text-white border border-neutral-200",children:d?.orders.reduce((r,l)=>r+=l.qtAlocada,0)}),e.jsx(s,{className:"text-white border border-neutral-200",children:d?.orders.reduce((r,l)=>r+=l.qtLogAloc,0)})]})})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h2",{className:"bg-emerald-600 text-white px-2 rounded-tl-md py-1 rounded-tr-md",children:"SALDO EM ESTOQUE"}),e.jsxs(N,{className:"border",children:[e.jsx(p,{children:e.jsxs(c,{className:"bg-neutral-200",children:[e.jsx(s,{className:"border border-neutral-300",children:"Est"}),e.jsx(s,{className:"border border-neutral-300",children:"Dep"}),e.jsx(s,{className:"border border-neutral-300",children:"Localiz"}),e.jsx(s,{className:"border border-neutral-300",children:"Disponível"}),e.jsx(s,{className:"border border-neutral-300",children:"Qtde Atual"}),e.jsx(s,{className:"border border-neutral-300",children:"Qt Aloc"}),e.jsx(s,{className:"border border-neutral-300",children:"Qt Aloc Ped"}),e.jsx(s,{className:"border border-neutral-300",children:"Qt ALoc Prod"})]})}),e.jsxs(f,{children:[d?.stock?.length==0&&e.jsx(c,{children:e.jsx(a,{colSpan:8,className:"text-center",children:"Sem dados para exibir"})}),d?.stock?.map((r,l)=>e.jsxs(c,{className:"even:bg-neutral-100",children:[e.jsx(a,{className:"border border-neutral-200",children:r.codEstabel}),e.jsx(a,{className:"border border-neutral-200",children:r.codDepos}),e.jsx(a,{className:"border border-neutral-200",children:r.codLocaliz}),e.jsx(a,{className:"border border-neutral-200",children:o(r.qtAtu-r.qtAlocPed-r.qtAlocProd-r.qtAlocada,0)}),e.jsx(a,{className:"border border-neutral-200",children:o(r.qtAtu,0)}),e.jsx(a,{className:"border border-neutral-200",children:o(r.qtAlocada,0)}),e.jsx(a,{className:"border border-neutral-200",children:o(r.qtAlocPed,0)}),e.jsx(a,{className:"border border-neutral-200",children:o(r.qtAlocProd,0)})]},l))]}),e.jsx(g,{children:e.jsxs(c,{className:"bg-neutral-500",children:[e.jsx(s,{className:"text-neutral-100 border border-neutral-100",colSpan:3,children:"Total"}),e.jsx(s,{className:"text-neutral-100 border border-neutral-100",children:d?.stock.reduce((r,l)=>r+=l.qtAtu-l.qtAlocPed-l.qtAlocProd-l.qtAlocada,0)}),e.jsx(s,{className:"text-neutral-100 border border-neutral-100",children:d?.stock.reduce((r,l)=>r+=l.qtAtu,0)}),e.jsx(s,{className:"text-neutral-100 border border-neutral-100",children:d?.stock.reduce((r,l)=>r+=l.qtAlocada,0)}),e.jsx(s,{className:"text-neutral-100 border border-neutral-100",children:d?.stock.reduce((r,l)=>r+=l.qtAlocPed,0)}),e.jsx(s,{className:"text-neutral-100 border border-neutral-100",children:d?.stock.reduce((r,l)=>r+=l.qtAlocProd,0)})]})})]})]}),e.jsxs("div",{className:"mt-2 ",children:[e.jsx("h2",{className:"bg-orange-300 px-2 rounded-tl-md py-1 rounded-tr-md",children:"ORDENS DE COMPRA"}),e.jsxs(N,{className:"border",children:[e.jsx(p,{children:e.jsxs(c,{className:"bg-neutral-200",children:[e.jsx(s,{className:"border border-neutral-300",children:"Est"}),e.jsx(s,{className:"border border-neutral-300",children:"Item"}),e.jsx(s,{className:"border border-neutral-300",children:"Ordem"}),e.jsx(s,{className:"border border-neutral-300",children:"Parc"}),e.jsx(s,{className:"border border-neutral-300",children:"Qtde"}),e.jsx(s,{className:"border border-neutral-300",children:"Qtde Saldo"}),e.jsx(s,{className:"border border-neutral-300",children:"Entrega"}),e.jsx(s,{className:"border border-neutral-300",children:"Situação"}),e.jsx(s,{className:"border border-neutral-300",children:"Pedido"}),e.jsx(s,{className:"border border-neutral-300",children:"Embarque"})]})}),e.jsxs(f,{children:[d?.purchaseOrders?.length==0&&e.jsx(c,{children:e.jsx(a,{colSpan:10,className:"text-center",children:"Sem dados para exibir"})}),d?.purchaseOrders?.map((r,l)=>e.jsxs(c,{className:"even:bg-neutral-100",children:[e.jsx(a,{className:"border border-neutral-200",children:r.codEstabel}),e.jsx(a,{className:"border border-neutral-200",children:r.itCodigo}),e.jsx(a,{className:"border border-neutral-200",children:r.numeroOrdem}),e.jsx(a,{className:"border border-neutral-200",children:r.parcela}),e.jsx(a,{className:"border border-neutral-200",children:o(r.quantidade,0)}),e.jsx(a,{className:"border border-neutral-200",children:o(r.quantSaldo,0)}),e.jsx(a,{className:"border border-neutral-200",children:i(r.dataEntrega)}),e.jsx(a,{className:"border border-neutral-200",children:r.situacao}),e.jsx(a,{className:"border border-neutral-200",children:r.numPedido}),e.jsx(a,{className:"border border-neutral-200",children:r.embarque})]},l))]}),e.jsx(g,{children:e.jsxs(c,{className:"bg-neutral-500 text-white",children:[e.jsx(s,{className:"border border-neutral-100 text-white",colSpan:5,children:"Total"}),e.jsx(s,{className:"border border-neutral-100 text-white",children:0}),e.jsx(s,{className:"border border-neutral-100 text-white",colSpan:4})]})})]})]})]})},te=function(){return e.jsxs("div",{className:"m-2 bg-white border shadow rounded w-full relative",children:[e.jsx("h1",{className:"font-semibold text-lg px-2 bg-neutral-200",children:"ESLI011"}),e.jsx("div",{className:"w-full pt-4 pb-6",children:e.jsx(T,{})})]})};export{te as component};
